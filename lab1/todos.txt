- клиент - его соединения
selector on server
- everything idk
- multiple threads handling clients and back pressure limit
- client
- генерирующие нити
- инпут нити: принимают клиентов и ставят в очередь, проверяют селектом сервер
- аутпуп нити: чекают очередь готовых ключей, ставят соединения чьи ключи готовы в выборку селекта, потом чекают селект
- воркер будит аутпут нить когда ключ готов
- инпут нить будит воркера когда есть запрос
- мапа с клиентом - соединения, где есть флаг готов или нет.
если генер нить закончила, она смотрит в мапу, и ложит все соедиения из нее в аутпут
/// сделать чтобы одна нить принимала соединения, несколько могут читать